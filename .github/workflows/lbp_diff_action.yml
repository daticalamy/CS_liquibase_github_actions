####################################################################
#  GitHub Action for Diff
#  database changes using Liquibase Pro.
#####################################################################
name: 'Liquibase Pro Diff'
run-name: ${{ inputs.source_environment}} to ${{ inputs.target_environment}} diff by ${{ github.actor }}

on:
  workflow_dispatch:
    inputs:
      source_environment:
        description: 'Source Environment'
        required: true
        type: choice
        options:
          - DEV
          - TEST
          - PROD
      target_environment:
        description: 'Target Environment'
        required: true
        type: choice
        options:
          - DEV
          - TEST
          - PROD 
          
jobs:
  run-diff:
    uses: ./.github/workflows/diff_reuseable_action.yml
    with:
      source_environment: ${{ github.event.inputs.source_environment }}
      target_environment: ${{ github.event.inputs.target_environment }}